Отлично! Теперь у нас есть полная картина: техническое задание, бизнес-процессы и детальные требования к каждому окну. Давайте объединим всё это в единый, структурированный документ, который можно передавать дизайнерам и разработчикам.

---

# ПОЛНАЯ СПЕЦИФИКАЦИЯ ЭКРАНОВ АДМИН-ПАНЕЛИ
## Telegram-бот "Новости и акции"

### Условные обозначения
- **Обязательно** — критически важный функционал для MVP
- **Рекомендуется** — важный функционал, но можно реализовать во 2-й очереди
- **Опционально** — функционал для улучшения UX, можно отложить

---

## 1. ЭКРАН АВТОРИЗАЦИИ

### Назначение
Обеспечение безопасного доступа к системе для администраторов и менеджеров.

### Путь доступа
`/login` или `/admin`

### Макет экрана
```
┌─────────────────────────────────────┐
│                                     │
│            [ЛОГОТИП]                │
│                                     │
│       Вход в панель управления      │
│                                     │
│       Логин                         │
│       [..........................]  │
│                                     │
│       Пароль                        │
│       [..........................]  │
│                                     │
│       ☐ Запомнить меня              │
│                                     │
│       [        ВОЙТИ        ]       │
│                                     │
│       Забыли пароль?                │
│                                     │
└─────────────────────────────────────┘
```

### Элементы интерфейса

| Элемент | Тип | Обязательность | Описание |
|---------|-----|----------------|----------|
| Логотип | Изображение | Рекомендуется | Логотип компании или проекта |
| Заголовок | Текст | Обязательно | "Вход в панель управления" |
| Поле "Логин" | Текстовое поле | Обязательно | Username или email администратора |
| Поле "Пароль" | Поле пароля | Обязательно | Скрытый ввод, min 8 символов |
| Чекбокс "Запомнить меня" | Флажок | Опционально | Продление сессии до 30 дней |
| Кнопка "Войти" | Кнопка | Обязательно | Отправка формы, активна при заполнении |
| Ссылка "Забыли пароль?" | Ссылка | Рекомендуется | Восстановление доступа |

### Поведение

| Действие | Реакция |
|----------|---------|
| Загрузка страницы | Фокус на поле "Логин" |
| Отправка формы с пустыми полями | Подсветка ошибки, "Поле обязательно" |
| Неверный логин/пароль | Toast-уведомление: "Неверный логин или пароль" |
| 5 неудачных попыток | Блокировка на 30 минут, уведомление |
| Успешный вход | Редирект на Дашборд |

### Бизнес-правила
- **Роли:** Супер-админ, Администратор, Менеджер (разные уровни доступа)
- **Сессия:** 24 часа (или 30 дней с "Запомнить меня")
- **Требования к паролю:** min 8 символов, буквы и цифры
- **Логирование:** Все попытки входа записываются в таблицу `activity_log`

---

## 2. ГЛАВНЫЙ ЭКРАН (ДАШБОРД)

### Назначение
Предоставление быстрого доступа к ключевым метрикам и состоянию системы.

### Путь доступа
`/dashboard` (основной экран после входа)

### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ [Лого] Дашборд Пользователи Контент Рассылки Аналитика [Админ] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ Доброе утро, Александр! 👋                                  │
│ Вот что происходит в вашем боте сегодня:                    │
│                                                             │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────┐│
│ │ 👥 Польз-ли │ │ 📄 Контент  │ │ 📨 Рассылки │ │ 📊 Вовл-ть││
│ │ 1,245       │ │ 24 активных │ │ 8 в месяце  │ │ 68%     ││
│ │ +12.5%      │ │ 12/8/4      │ │ 68% open    │ │ 847 act ││
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────┘│
│                                                             │
│ ┌─────────────────────┐ ┌─────────────────────┐            │
│ │ Рост пользователей  │ │ Эффективность       │            │
│ │ [График]            │ │ рассылок            │            │
│ │                     │ │ [Круговая диаграмма]│            │
│ │ Новых: 24 сегодня   │ │ Доставка: 95%      │            │
│ │        156 за месяц │ │ Открытия: 68%      │            │
│ └─────────────────────┘ └─────────────────────┘            │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ БЫСТРЫЕ ДЕЙСТВИЯ                                    │    │
│ │ [➕ Новая акция] [📨 Создать рассылку]               │    │
│ │ [📊 Отчет] [👥 Экспорт]                             │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐    │
│ │ ПОСЛЕДНЯЯ АКТИВНОСТЬ                                 │    │
│ │ • 10:45 Иван создал акцию "Летние скидки"           │    │
│ │ • 09:30 Мария отправила рассылку (856)              │    │
│ │ • 08:15 Петр добавил новинку "Synesso"              │    │
│ │                                        [Все логи]   │    │
│ └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

### Элементы интерфейса

#### Верхняя панель (Header)
| Элемент | Тип | Обязательность | Описание |
|---------|-----|----------------|----------|
| Логотип | Изображение/Текст | Рекомендуется | Название проекта |
| Навигация | Меню | Обязательно | Ссылки на основные разделы |
| Иконка админа | Выпадающее меню | Обязательно | Профиль, настройки, выход |

#### Блок 1: Ключевые показатели (4 карточки)

**Карточка "Пользователи"**
```
👥 Пользователи
1,245
+12.5% за неделю
↙️ 856 HoReCa | 389 Retail
```

**Карточка "Активный контент"**
```
📄 Активный контент
24
🎁 12 акций | 📰 8 новинок | 📦 4 прихода
```

**Карточка "Рассылки"**
```
📨 Рассылки
8 в этом месяце
Открываемость: 68% (+5%)
3 запланировано
```

**Карточка "Вовлеченность"**
```
📊 Вовлеченность
847 активных сегодня (68%)
DAU/MAU: 42%
```

#### Блок 2: Графики

**Левый график - Рост пользователей**
- Тип: Линейный график или столбчатая диаграмма
- Переключатели: Неделя/Месяц/Год
- Отображение: HoReCa, Retail, Все (с возможностью переключения)

**Правый график - Эффективность рассылок**
- Тип: Круговая диаграмма или горизонтальные бары
- Метрики: Доставлено, Открыто, Переходы, Отписки

#### Блок 3: Быстрые действия
| Кнопка | Действие |
|--------|----------|
| ➕ Новая акция | Переход к созданию акции |
| 📨 Создать рассылку | Переход к мастеру рассылок |
| 📊 Отчет за месяц | Генерация и скачивание отчета |
| 👥 Экспорт пользователей | Экспорт списка в CSV/Excel |

#### Блок 4: Последняя активность
- Таблица с последними действиями в системе
- Ссылка "Все логи" ведет на полный экран логов

### Поведение

| Действие | Реакция |
|----------|---------|
| Загрузка дашборда | Показ скелетонов (skeleton loading) |
| Обновление данных | WebSocket обновление в реальном времени |
| Наведение на карточку | Подсветка, курсор-pointer |
| Клик по карточке | Переход в соответствующий раздел |
| Клик по графику | Детальный просмотр (увеличение) |
| Адаптация | На мобильных карточки вертикально |

### Бизнес-метрики для отображения
- **Целевой DAU/MAU:** >40%
- **Целевой Open Rate:** >60%
- **Целевой CTR:** >15%
- **Целевой отток:** <5% в месяц

---

## 3. ЭКРАН УПРАВЛЕНИЯ ПОЛЬЗОВАТЕЛЯМИ

### Назначение
Просмотр, фильтрация, редактирование и управление базой пользователей.

### Путь доступа
`/users`

### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ ПОЛЬЗОВАТЕЛИ                          [🔄] [📥] [➕]         │
│ Всего: 1,245 | HoReCa: 856 | Retail: 389                    │
├─────────────────────────────────────────────────────────────┤
│ Фильтры: [Все типы ▼] [Дата: Всё время ▼] [Активность: Любая ▼]│
│ Поиск: [..............................................] 🔍  │
├─────────────────────────────────────────────────────────────┤
│ ☐  Username  Имя    Тип     Заведение    Регистрация  Статус│
│ ☐  @cafe_m   Анна   HoReCa  Cafe M       12.01.2024   🟢   │
│ ☐  @shop_r   Иван   Retail  Shop R       10.01.2024   🟡   │
│ ☐  @bar_b    Петр   HoReCa  Bar B        05.01.2024   🔴   │
│ ...                                                         │
├─────────────────────────────────────────────────────────────┤
│ [◀] 1 2 3 4 5 ... 25 [▶] Показывать по: 50 ▼               │
└─────────────────────────────────────────────────────────────┘
```

### Элементы интерфейса

#### Заголовок и действия
| Элемент | Тип | Обязательность | Описание |
|---------|-----|----------------|----------|
| Заголовок | Текст | Обязательно | "Пользователи" |
| Кнопка "Обновить" | Иконка | Рекомендуется | Обновление списка |
| Кнопка "Экспорт" | Иконка | Обязательно | Экспорт в CSV/Excel |
| Кнопка "Добавить" | Иконка | Опционально | Ручное добавление (редко) |
| Счетчики | Текст | Обязательно | Всего, HoReCa, Retail |

#### Панель фильтрации
| Элемент | Тип | Описание |
|---------|-----|----------|
| Фильтр по типу | Выпадающий список | Все / HoReCa / Retail |
| Фильтр по дате | Выпадающий список | Сегодня / Неделя / Месяц / Произвольный |
| Фильтр по активности | Выпадающий список | Любая / Активен / Неактивен / Заблокирован |
| Поиск | Текстовое поле | Поиск по username, имени, заведению |

#### Таблица пользователей
| Колонка | Тип | Описание |
|---------|-----|----------|
| ☐ | Чекбокс | Выбор для массовых операций |
| Username | Текст | Ссылка на Telegram (t.me/username) |
| Имя | Текст | Имя пользователя (если указано) |
| Тип | Текст/Бейдж | HoReCa / Retail с цветовой индикацией |
| Заведение | Текст | Название заведения |
| Регистрация | Дата | Дата регистрации |
| Статус | Иконка | 🟢 Активен / 🟡 Неактивен / 🔴 Заблокирован |
| Действия | Иконки | ✏️ Редактировать, 🗑️ Удалить |

#### Пагинация
- Кнопки навигации: ◀ 1 2 3 4 5 ... 25 ▶
- Выбор количества записей: 10/25/50/100

### Модальное окно "Редактирование пользователя"

```
┌─────────────────────────────────────┐
│  РЕДАКТИРОВАНИЕ ПОЛЬЗОВАТЕЛЯ       │
│  Telegram ID: 123456789             │
│                                     │
│  Username: [@cafe_m...............] │
│  Имя:      [Анна.................] │
│  Тип:      ○ HoReCa ● Retail        │
│  Заведение:[Cafe Moscow..........]  │
│  Статус:   [Активен ▼]              │
│                                     │
│  [Сохранить] [Отмена]               │
└─────────────────────────────────────┘
```

### Функции

| Функция | Обязательность | Описание |
|---------|----------------|----------|
| Просмотр списка | Обязательно | Таблица со всеми пользователями |
| Фильтрация по типу | Обязательно | HoReCa / Retail |
| Поиск | Обязательно | По username и заведению |
| Редактирование | Обязательно | Изменение типа, заведения, статуса |
| Блокировка/Разблокировка | Обязательно | Изменение статуса is_active |
| Удаление | Обязательно | С подтверждением |
| Массовые операции | Рекомендуется | Выбор нескольких, массовая рассылка |
| Экспорт | Обязательно | CSV/Excel с выбором полей |

### Бизнес-правила
- **Активен:** был в боте за последние 7 дней
- **Неактивен:** не был в боте 7-30 дней
- **Заблокирован:** is_active = false (отключен администратором)
- При удалении пользователя помечать как deleted, но сохранять историю

---

## 4. ЭКРАНЫ УПРАВЛЕНИЯ КОНТЕНТОМ

### 4.1. Общий экран списка контента

#### Назначение
Просмотр и управление всеми типами контента (акции, новинки, приходы).

#### Путь доступа
`/content` или `/promotions`, `/news`, `/deliveries`

#### Макет экрана (для раздела "Акции")
```
┌─────────────────────────────────────────────────────────────┐
│ [Акции] [Новинки] [Приходы]                [➕ Создать акцию]│
│ Всего: 12 | HoReCa: 8 | Retail: 6 | Общие: 2                │
├─────────────────────────────────────────────────────────────┤
│ Фильтры: [Все типы ▼] [Все статусы ▼] [Период: Месяц ▼]    │
│ Поиск: [..............................................] 🔍  │
├─────────────────────────────────────────────────────────────┤
│ Заголовок        Тип      Статус     Публикация  Просм. Действ.│
│ Летние скидки    HoReCa   🟢 Активна  20.02.2024  456   ✏️👁️🗑️│
│ Новая коллекция  Retail   🟡 Запланир.01.03.2024  -     ✏️👁️🗑️│
│ Спецпредложение  Общая    🔴 Черновик  -           -     ✏️👁️🗑️│
│ ...                                                          │
├─────────────────────────────────────────────────────────────┤
│ [◀] 1 2 3 [▶]                                               │
└─────────────────────────────────────────────────────────────┘
```

#### Элементы интерфейса

**Навигация по типам контента**
| Элемент | Тип | Описание |
|---------|-----|----------|
| Акции | Вкладка | Переход к списку акций |
| Новинки | Вкладка | Переход к списку новинок |
| Приходы | Вкладка | Переход к списку приходов |

**Заголовок раздела**
| Элемент | Описание |
|---------|----------|
| Название | "АКЦИИ" / "НОВИНКИ" / "ПРИХОДЫ" |
| Кнопка "Создать" | Создание нового материала |
| Счетчики | Всего, по типам |

**Фильтры**
- По типу пользователя: Все / HoReCa / Retail / Общие
- По статусу: Все / Активны / Запланированы / Черновики
- По периоду: Неделя / Месяц / Произвольный
- Поиск по заголовку

**Таблица контента**
| Колонка | Описание |
|---------|----------|
| Заголовок | Название материала |
| Тип | HoReCa / Retail / Общая (с цветом) |
| Статус | 🟢 Активна / 🟡 Запланирована / 🔴 Черновик |
| Публикация | Дата публикации (или планируемая) |
| Просмотры | Количество просмотров (если есть) |
| Действия | ✏️ Ред., 👁️ Предпр., 🗑️ Удалить |

### 4.2. Экран создания/редактирования контента

#### Назначение
Создание и редактирование акций, новинок и приходов.

#### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│  СОЗДАНИЕ АКЦИИ                                  [✕]       │
├─────────────────────────────────────────────────────────────┤
│  Заголовок *                                                 │
│  [Летние скидки для HoReCa................................]│
│                                                             │
│  Тип контента *                                              │
│  ○ Акция  ● Новинка  ○ Приход                                │
│                                                             │
│  Целевая аудитория *                                         │
│  ☑ HoReCa  ☐ Retail  ☐ Все                                   │
│                                                             │
│  Описание *                                                  │
│  [Только в этом сезоне специальные скидки для ресторанов...]│
│  [..........................................................]│
│                                                             │
│  Изображение                                                 │
│  [📁 Выбрать файл] summer_sale.jpg (2.3 MB)                 │
│  [Превью изображения]                                        │
│                                                             │
│  Дата публикации                                             │
│  ● Опубликовать сейчас                                       │
│  ○ Запланировать: [20.02.2024] [14:30]                      │
│                                                             │
│  Статус                                                      │
│  [Опубликовано ▼]                                            │
│                                                             │
│  [Предпросмотр] [Сохранить] [Отмена]                         │
└─────────────────────────────────────────────────────────────┘
```

#### Поля формы

| Поле | Тип | Обязательность | Валидация |
|------|-----|----------------|-----------|
| Заголовок | Текстовое поле | Обязательно | max 255 символов |
| Тип контента | Радио-кнопки | Обязательно | Акция/Новинка/Приход |
| Целевая аудитория | Чекбоксы | Обязательно | Хотя бы один выбран |
| Описание | Текстовая область | Обязательно | max 4000 символов |
| Изображение | Загрузка файла | Опционально | max 5MB, JPG/PNG/WEBP |
| Дата публикации | Радио + дата/время | Обязательно | Сейчас / Запланировать |
| Статус | Выпадающий список | Обязательно | Опубликовано/Черновик |

#### Поведение

| Действие | Реакция |
|----------|---------|
| Загрузка изображения | Показ превью, индикация размера |
| Кнопка "Предпросмотр" | Модальное окно с видом в боте |
| Автосохранение | Каждые 30 секунд (для черновиков) |
| Уход с формы | Предупреждение о несохраненных изменениях |
| Ошибка валидации | Подсветка поля, сообщение |

#### Бизнес-правила
- Контент с типом "HoReCa" видят только пользователи HoReCa
- Контент с типом "Retail" видят только пользователи Retail
- Контент с типом "Все" видят все пользователи
- Запланированный контент публикуется автоматически в указанное время

---

## 5. ЭКРАН УПРАВЛЕНИЯ РАССЫЛКАМИ

### 5.1. Список рассылок

#### Назначение
Просмотр всех созданных рассылок и их статусов.

#### Путь доступа
`/mailings`

#### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ РАССЫЛКИ                                   [➕ Создать рассылку]│
│ Всего: 24 | Отправлено: 18 | Запланировано: 3 | Черновиков: 3│
├─────────────────────────────────────────────────────────────┤
│ Тема           Аудитория     Статус       Дата     Действия  │
│ Летняя акция   HoReCa (856)  ✅ Отправлена 20.02   👁️📊🗑️   │
│ Новинки марта  Retail (389)  ⏳ Запланир. 01.03   ✏️📊🗑️   │
│ Тестовая       Все (1245)    📝 Черновик   -       ✏️👁️🗑️   │
│ ...                                                         │
└─────────────────────────────────────────────────────────────┘
```

### 5.2. Мастер создания рассылки (4 шага)

#### Шаг 1: Выбор аудитории

```
┌─────────────────────────────────────────────────────────────┐
│ ШАГ 1 ИЗ 4: КОМУ ОТПРАВЛЯЕМ?                                │
├─────────────────────────────────────────────────────────────┤
│ Тип получателей:                                             │
│ ● Все пользователи (1,245)                                   │
│ ○ Только HoReCa (856)                                        │
│ ○ Только Retail (389)                                        │
│ ○ Выбрать конкретные заведения                               │
│                                                             │
│ [Выбрать заведения] (появляется при выборе)                 │
│                                                             │
│ Дополнительные фильтры:                                      │
│ ☐ Только активные за последние 7 дней                       │
│ ☐ Исключить неактивных (>30 дней)                           │
│                                                             │
│ Получателей: 1,245                                           │
│                                                             │
│ [Назад] [Далее →]                                           │
└─────────────────────────────────────────────────────────────┘
```

#### Шаг 2: Создание контента

```
┌─────────────────────────────────────────────────────────────┐
│ ШАГ 2 ИЗ 4: ЧТО ОТПРАВЛЯЕМ?                                │
├─────────────────────────────────────────────────────────────┤
│ Текст сообщения *                                            │
│ [Здравствуйте, {establishment}!                          ]  │
│ [Спешим сообщить о новой акции для HoReCa...             ]  │
│ [........................................................]  │
│                                                             │
│ Персонализация: [Вставить имя] [Вставить заведение]         │
│                                                             │
│ Медиафайлы:                                                 │
│ [📁 Добавить изображение] [📁 Добавить видео]               │
│ (загружено: sale.jpg)                                       │
│                                                             │
│ Кнопки (опционально):                                       │
│ [➕ Добавить кнопку]                                         │
│ 1. [Подробнее] → https://example.com                        │
│                                                             │
│ [Назад] [Далее →]                                           │
└─────────────────────────────────────────────────────────────┘
```

#### Шаг 3: Тестирование

```
┌─────────────────────────────────────────────────────────────┐
│ ШАГ 3 ИЗ 4: ТЕСТИРОВАНИЕ                                   │
├─────────────────────────────────────────────────────────────┤
│ Отправьте тестовое сообщение себе или коллегам:             │
│                                                             │
│ [📨 Отправить тест себе]                                    │
│ [📨 Отправить коллеге...]                                   │
│                                                             │
│ Получатели теста:                                           │
│ ✓ @admin (отправлено)                                       │
│ ✓ @manager (ожидает)                                        │
│                                                             │
│ ПРЕДПРОСМОТР:                                               │
│ ┌─────────────────────┐                                    │
│ │ Здравствуйте, Cafe M│                                    │
│ │ Спешим сообщить...  │                                    │
│ │ [Изображение]       │                                    │
│ │ [Подробнее]         │                                    │
│ └─────────────────────┘                                    │
│                                                             │
│ [Назад] [Далее →]                                           │
└─────────────────────────────────────────────────────────────┘
```

#### Шаг 4: Настройки и подтверждение

```
┌─────────────────────────────────────────────────────────────┐
│ ШАГ 4 ИЗ 4: НАСТРОЙКИ ОТПРАВКИ                             │
├─────────────────────────────────────────────────────────────┤
│ Время отправки:                                             │
│ ● Отправить сейчас                                          │
│ ○ Запланировать: [01.03.2024] [10:00]                      │
│                                                             │
│ Скорость отправки:                                          │
│ ○ Максимальная (100/сек)                                    │
│ ● Средняя (30/сек)                                          │
│ ○ Низкая (5/сек)                                            │
│                                                             │
│ Уведомления:                                                │
│ ☐ Уведомить о завершении по email                           │
│                                                             │
│ ИТОГО:                                                      │
│ Получателей: 1,245                                          │
│ Файлов: 1 изображение (2.1 MB)                              │
│ Время отправки: ~ 42 секунды                                │
│                                                             │
│ [Назад] [📨 Отправить рассылку]                             │
└─────────────────────────────────────────────────────────────┘
```

### 5.3. Детальная статистика рассылки

```
┌─────────────────────────────────────────────────────────────┐
│ СТАТИСТИКА РАССЫЛКИ: "Летняя акция"                        │
│ Отправлена: 20.02.2024 10:00                                │
├─────────────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────────────┐  │
│ │ ОБЩАЯ СТАТИСТИКА                                      │  │
│ │ Целевая аудитория: 856 HoReCa                         │  │
│ │ Доставлено: 854 (99.8%)                               │  │
│ │ Открыто: 581 (68.0%)                                  │  │
│ │ Переходы по ссылке: 128 (15.0%)                       │  │
│ │ Отписалось: 2 (0.2%)                                  │  │
│ │ Время отправки: 42 сек                                │  │
│ └───────────────────────────────────────────────────────┘  │
│                                                             │
│ ┌───────────────────────────────────────────────────────┐  │
│ │ ДИНАМИКА ОТКРЫТИЙ [График]                            │  │
│ └───────────────────────────────────────────────────────┘  │
│                                                             │
│ ┌───────────────────────────────────────────────────────┐  │
│ │ АКТИВНОСТЬ ПО ЗАВЕДЕНИЯМ                               │  │
│ │ • Ресторан Москва: 45 (7.7%)                           │  │
│ │ • Cafe M: 38 (6.5%)                                    │  │
│ │ • Bar B: 32 (5.5%)                                     │  │
│ └───────────────────────────────────────────────────────┘  │
│                                                             │
│ [📥 Экспорт статистики] [Назад к списку]                   │
└─────────────────────────────────────────────────────────────┘
```

### Бизнес-правила для рассылок

| Правило | Значение |
|---------|----------|
| Максимальная частота | 3 рассылки в день |
| Оптимальное время | 10:00 - 18:00 (будни), 11:00 - 16:00 (выходные) |
| Запрещенное время | 22:00 - 08:00 |
| Минимальная аудитория | 10 получателей |
| Максимальный размер текста | 4096 символов |
| Максимальный размер файла | 5 MB |

---

## 6. ЭКРАН АНАЛИТИКИ

### Назначение
Глубокий анализ данных и построение отчетов.

### Путь доступа
`/analytics`

### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ [Пользователи] [Рассылки] [Контент] [Конверсии]            │
├─────────────────────────────────────────────────────────────┤
│ Период: [Неделя ▼] [01.02.2024] - [28.02.2024] [Применить] │
├─────────────────────────────────────────────────────────────┤
│ ┌──────────────┬─────────────┬─────────────┬─────────────┐ │
│ │ НОВЫЕ        │ АКТИВНЫЕ    │ ОТТОК       │ ВСЕГО       │ │
│ │ 156          │ 847         │ 23 (1.8%)   │ 1,245       │ │
│ │ +15% к периоду│ DAU/MAU 42% │             │            │ │
│ └──────────────┴─────────────┴─────────────┴─────────────┘ │
│                                                             │
│ ┌───────────────────────────────────────────────────────┐  │
│ │ ДИНАМИКА РЕГИСТРАЦИЙ [График: новые по дням]         │  │
│ └───────────────────────────────────────────────────────┘  │
│                                                             │
│ ┌───────────────────────────────────────────────────────┐  │
│ │ УДЕРЖАНИЕ ПОЛЬЗОВАТЕЛЕЙ (COHORT)                      │  │
│ │       Неделя 1 Неделя 2 Неделя 3 Неделя 4              │  │
│ │ Янв    100%    78%     65%     52%                     │  │
│ │ Фев    100%    81%     68%      -                      │  │
│ │ Мар    100%    83%      -       -                      │  │
│ └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### Вкладки аналитики

| Вкладка | Назначение |
|---------|------------|
| Пользователи | Рост, удержание, активность |
| Рассылки | Эффективность, сравнение, тренды |
| Контент | Популярность материалов |
| Конверсии | (Опционально) Заказы/заявки |

### Ключевые метрики для отображения

**Рост базы**
- Новые пользователи (день/неделя/месяц)
- Отток (churn rate)
- LTV (прогнозируемый)

**Активность**
- DAU/MAU (цель >40%)
- Среднее время в боте
- Глубина просмотра

**Эффективность контента**
- Просмотры акций (% от базы)
- Переходы по ссылкам
- Конверсия (если отслеживается)

---

## 7. ЭКРАН НАСТРОЕК

### Назначение
Управление параметрами системы и пользователями админ-панели.

### Путь доступа
`/settings`

### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ [Общие] [Администраторы] [Безопасность] [Бэкапы]           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ОБЩИЕ НАСТРОЙКИ                                            │
│                                                             │
│ Токен бота:                                                │
│ [1234567890:AAFdDgREfgrg.............................]    │
│                                                             │
│ Приветственное сообщение:                                   │
│ [Здравствуйте! Я бот с новостями и акциями...          ]   │
│ [........................................................]  │
│                                                             │
│ Часовой пояс:                                              │
│ [GMT+3 Москва ▼]                                           │
│                                                             │
│ Email для уведомлений:                                      │
│ [admin@company.ru.....................................]   │
│                                                             │
│ [Сохранить изменения]                                      │
└─────────────────────────────────────────────────────────────┘
```

### Вкладка "Администраторы"

```
АДМИНИСТРАТОРЫ                     [➕ Добавить]

| Имя     | Логин     | Роль        | Последний вход | Статус | Действия |
|---------|-----------|-------------|----------------|--------|----------|
| Алексей | alex@c    | Супер-админ | 20.02 10:30    | Активен| ✏️ 🗑️ |
| Мария   | maria@c   | Админ       | 19.02 15:45    | Активен| ✏️ 🗑️ |
| Иван    | ivan@c    | Менеджер    | 18.02 09:20    | Активен| ✏️ 🗑️ |
```

### Модальное окно добавления администратора

```
┌─────────────────────────────────────┐
│  ДОБАВЛЕНИЕ АДМИНИСТРАТОРА         │
│  Имя: [..........................] │
│  Email/Логин: [...................] │
│  Пароль: [........................] │
│  Подтверждение: [.................] │
│  Роль: [Администратор ▼]            │
│                                     │
│  [Сохранить] [Отмена]               │
└─────────────────────────────────────┘
```

### Вкладка "Бэкапы"

```
РЕЗЕРВНОЕ КОПИРОВАНИЕ

Автоматические бэкапы:
● Ежедневно в 03:00
○ Еженедельно в воскресенье 03:00
○ Отключено

Хранить бэкапов: [30 ▼] дней

[📦 Создать бэкап сейчас]

СПИСОК БЭКАПОВ:
| Дата       | Размер  | Тип    | Статус    | Действия         |
|------------|---------|--------|-----------|------------------|
| 20.02.2024 | 156 MB  | Авто   | ✅ Успешно| [↻ Восстановить] |
| 19.02.2024 | 152 MB  | Авто   | ✅ Успешно| [↻ Восстановить] |
| 18.02.2024 | 148 MB  | Ручной | ✅ Успешно| [↻ Восстановить] |

⚠️ Восстановление из бэкапа заменит текущие данные!
```

---

## 8. ЭКРАН ЛОГОВ

### Назначение
Просмотр истории действий в системе для аудита и безопасности.

### Путь доступа
`/logs`

### Макет экрана
```
┌─────────────────────────────────────────────────────────────┐
│ ЛОГИ ДЕЙСТВИЙ                              [📥 Экспорт логов]│
├─────────────────────────────────────────────────────────────┤
│ Фильтры:                                                     │
│ Администратор: [Все ▼]  Действие: [Все ▼]                   │
│ Период: [Неделя ▼] [20.02.2024] - [27.02.2024]              │
├─────────────────────────────────────────────────────────────┤
│ Время     │ Администратор │ Действие       │ Детали         │
│──────────┼───────────────┼────────────────┼────────────────│
│ 10:45:23 │ Алексей       │ Создание акции │ "Летние скидки"│
│ 09:30:12 │ Мария         │ Отправка       │ 856 получателей│
│ 08:15:45 │ Иван          │ Вход в систему │ Успешно        │
│ ...                                                         │
├─────────────────────────────────────────────────────────────┤
│ [◀] 1 2 3 4 5 ... 12 [▶]                                   │
└─────────────────────────────────────────────────────────────┘
```

### Что логируется
- Входы/выходы из системы
- Создание/редактирование/удаление контента
- Отправка рассылок
- Экспорт данных
- Изменение настроек
- Действия с пользователями (блокировка, удаление)

### Хранение логов
- Срок хранения: 90 дней
- Экспорт: CSV, PDF

---

## 9. ОБЩИЕ UI/UX ТРЕБОВАНИЯ

### Адаптивность
- Десктоп (1920x1080, 1366x768)
- Планшет (768x1024)
- Мобильный (375x667)

### Темы оформления
- Светлая тема (по умолчанию)
- Темная тема (переключение в профиле)

### Состояния загрузки
- Skeleton screens для таблиц
- Spinner для кнопок
- Progress bar для длительных операций

### Уведомления (Toasts)
- ✅ Успех: зеленый, исчезает через 3 сек
- ⚠️ Предупреждение: желтый, требует подтверждения
- ❌ Ошибка: красный, исчезает через 5 сек

### Подтверждения
- На все деструктивные действия: модальное окно с подтверждением
- Для массовых рассылок: двойное подтверждение

### Горячие клавиши
| Клавиша | Действие |
|---------|----------|
| Ctrl+S | Сохранить форму |
| Ctrl+Enter | Отправить/Подтвердить |
| Esc | Закрыть модальное окно |
| / | Фокус на поиск |

---

## 10. ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ К РЕАЛИЗАЦИИ

### Frontend
- **Фреймворк:** React 18+ / Vue 3+
- **UI Library:** Material-UI / Ant Design / Tailwind
- **Графики:** Chart.js / D3.js / Recharts
- **Состояние:** Redux Toolkit / Pinia
- **Запросы:** React Query / Axios
- **Типизация:** TypeScript

### API интеграция
- REST API (как в разделе 5 ТЗ)
- WebSocket для real-time обновлений
- JWT для аутентификации

### Производительность
- First contentful paint: < 1.5 сек
- Time to interactive: < 3 сек
- Загрузка списков: < 500 мс (с пагинацией)
- WebSocket обновление: < 100 мс

### Безопасность
- HTTPS только
- JWT в HttpOnly cookies
- CSRF защита
- Rate limiting для API
- Санитизация ввода

---

## ПРИЛОЖЕНИЕ: Матрица доступности по ролям

| Функция | Супер-админ | Админ | Менеджер |
|---------|-------------|-------|----------|
| Просмотр дашборда | ✅ | ✅ | ✅ |
| Управление пользователями | ✅ | ✅ | ❌ |
| Создание контента | ✅ | ✅ | ✅ (только черновики) |
| Публикация контента | ✅ | ✅ | ❌ |
| Создание рассылок | ✅ | ✅ | ❌ |
| Отправка рассылок | ✅ | ✅ | ❌ |
| Просмотр аналитики | ✅ | ✅ | ✅ (ограниченно) |
| Управление админами | ✅ | ❌ | ❌ |
| Настройки системы | ✅ | ❌ | ❌ |
| Просмотр логов | ✅ | ✅ | ❌ |

---

*Документ составлен на основе ТЗ и бизнес-процессов проекта.*  
*Версия: 2.0*  
*Дата: [текущая дата]*