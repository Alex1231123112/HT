# Чек-лист приемки

## Функциональность
- [x] Регистрация и сегментация работают в Telegram-боте.
- [x] Акции/новинки/приходы управляются из админ-панели.
- [x] Работают создание, планирование и отправка рассылок.
- [x] Работают отмена и повторная отправка рассылок.
- [x] Реализован мастер рассылок 4 шага + test-send + статистика.
- [x] API покрывает endpoint'ы первой итерации ТЗ по админке.
- [x] Типовые админ-ресурсы (users/content/logs/admins/settings) переведены на refine CRUD.

## Производительность
- [ ] Endpoint health API отвечает в целевых пределах (p95 &lt; 500 ms под нагрузкой: `tests/load/k6-smoke.js`; в процессе: `tests/integration/test_health.py::test_health_response_time_sla`).
- [ ] Smoke-тест массовой рассылки успешно пройден (`tests/integration/test_admin_flows.py::test_mailing_smoke_multiple_recipients`; требует запущенный API на localhost:8000).

## Безопасность
- [x] Включен rate limiting для входа.
- [x] Проверки JWT и CSRF применяются на mutating-endpoint'ах.
- [x] Валидация загрузок по MIME-типу и размеру работает.
- [x] Разграничение ролей на критических операциях проверено.
- [x] Аудит ролевых отказов (`rbac_denied`) включен.

## Документация
- [x] Переданы README и руководство по деплою.
- [x] Переданы руководства для администратора и пользователя бота.
- [x] Переданы инструкции backup/restore и pre-prod проверки.
- [x] Передана матрица соответствия ТЗ (`docs/TZ_TRACEABILITY.md`).

## Верификация (ручная и по ролям)

- **Ручной проход:** регистрация в боте, CRUD контента (акции/новинки/приходы), мастер рассылок (4 шага, test-send, отправка/отмена/retry), аналитика, настройки, бэкапы, раздел Admins.
- **Роли и доступ:** сверить с матрицей из спецификации админ-панели (супер-админ / админ / менеджер). Реализация RBAC — `admin.api` (require_roles, get_current_admin), тесты — `tests/integration/test_admin_rbac.py`.
